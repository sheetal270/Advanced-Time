<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/maps.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

    <title>World Clock</title>
    <style>
       #chartdiv {
            width: 100%;
            height: 500px;
        }
        header {
    position: fixed;
    top: 0;
    width: 100%;
    font-size: 30px;
    background-color: #232323;
    padding: 10px;
    text-align: center;
    color: white;
    font-weight: bold;
    z-index: 100; /* Ensure the header is on top of other elements */
}

body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: linear-gradient(to bottom right, #4e54c8, #8f94fb);
    padding-top: 60px; /* Adjusted to account for the fixed header */
}

        .clock {
            display: none;
            position: relative;
            width: 350px;
            height: 350px;
            border: 5px solid #333;
            border-radius: 50%;
            margin: 10px;
            background: linear-gradient(to bottom right, #fff, #e0e0e0);
            background-size: 100% 100%;
            font-family: 'Arial', sans-serif;
            display: inline-block;
        }
          #country-heading {
            text-align: center;
            margin-top: 20px;
            font-size: 24px;
            color: #333;
        }

        .numeral {
            position: absolute;
            font-size: 25px;
            color: #333;
            font-weight: bold;
        }

        .numeral.XII { top: 12%; left: 50%; transform: translate(-50%, -130%); }
        .numeral.III { bottom: 50%; right: 7%; transform: translate(50%, 0);}
        .numeral.VI { bottom: 3%; left: 50%; transform: translate(-50%, 0);  }
        .numeral.IX {  bottom: 46%; left: 7%; transform: translate(-50%, -50%); }

        .hand {
            position: absolute;
            width: 2px;
            height: 50px;
            background-color: blue;
            top: 50%;
            left: 50%;
            border: 1px solid;
            transform-origin: 50% 100%;
            transform: translateX(-50%);
        }

        #hourHandIndia {
            height: 40px;
        }

        #minuteHandIndia {
            height: 80px;
        }

        #secondHandIndia {
            background-color: skyblue;
            height: 100px;
        }
        #hourHandUS {
            height: 40px;
        }

        #minuteHandUS {
            height: 80px;
        }

        #secondHandUS {
            background-color: skyblue;
            height: 100px;
        }
        #hourHandGermany {
            height: 40px;
        }

        #minuteHandGermany {
            height: 80px;
        }

        #secondHandGermany {
            background-color: skyblue;
            height: 100px;
        }

        #clock-container {
            text-align: center;
        }

        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            font-size: 24px;
            background-color: #232323;
            padding: 10px;
            text-align: center;
            color: white;
        }

        label {
            font-size: 18px;
            margin-right: 10px;
            color: white;
        }

        select {
            font-size: 16px;
            padding: 8px;
        }
        @media only screen and (max-width: 600px) {
    /* Adjust the styling for mobile screens */

    header {
        font-size: 20px;
    }

    body {
        padding-top: 40px;
    }

    .clock {
        width: 40vw;
        height: 40vw;
    }

    #world-map {
        width: 220vw;
        height: 220vw;
    }
    
    </style>
</head>
<body>
<header>Antique Clock</header>
<div id="chartdiv"></div>
    <h2 id="country-heading">India
</h2>

<div id="clock-container">
    <div id="India" class="clock">
        <div class="numeral XII">XII</div>
        <div class="numeral III">III</div>
        <div class="numeral VI">VI</div>
        <div class="numeral IX">IX</div>
        <div class="hand" id="hourHandIndia"></div>
        <div class="hand" id="minuteHandIndia"></div>
        <div class="hand" id="secondHandIndia"></div>
    </div>

    <div id="US" class="clock">
       <div class="numeral XII">XII</div>
        <div class="numeral III">III</div>
        <div class="numeral VI">VI</div>
        <div class="numeral IX">IX</div>
        <div class="hand" id="hourHandUS"></div>
        <div class="hand" id="minuteHandUS"></div>
        <div class="hand" id="secondHandUS"></div>
    </div>

    <div id="Germany" class="clock">
         <div class="numeral XII">XII</div>
        <div class="numeral III">III</div>
        <div class="numeral VI">VI</div>
        <div class="numeral IX">IX</div>
        <div class="hand" id="hourHandGermany"></div>
        <div class="hand" id="minuteHandGermany"></div>
        <div class="hand" id="secondHandGermany"></div>
    </div>
</div>

<div>
    <label for="country-select">Select a country:</label>
    <select id="country-select" onchange="updateClocks()">
        <option value="India">India</option>
        <option value="US">United States</option>
        <option value="Germany">Germany</option>
    </select>
</div>

<footer>
    Developed by: Sheetal Pisal
</footer>

<script>
    function updateClocks() {
        const selectedCountry = document.getElementById('country-select').value;
        document.getElementById('country-heading').innerText = selectedCountry;

        // Hide all clocks
        const clocks = document.querySelectorAll('.clock');
        clocks.forEach(clock => {
            clock.style.display = 'none';
        });

        // Show the selected clock
        document.getElementById(selectedCountry).style.display = 'block';

updateIndividualClock('India', 'hourHandIndia', 'minuteHandIndia', 'secondHandIndia', 'Asia/Kolkata');
        updateIndividualClock('US', 'hourHandUS', 'minuteHandUS', 'secondHandUS', 'America/New_York');
        updateIndividualClock('Germany', 'hourHandGermany', 'minuteHandGermany', 'secondHandGermany', 'Europe/Berlin');
    }
        // Update the selected country's clock
        // updateIndividualClock(selectedCountry, `hourHand${selectedCountry}`, `minuteHand${selectedCountry}`, `secondHand${selectedCountry}`, getTimeZone(selectedCountry));
    

    function updateIndividualClock(countryName, hourHandId, minuteHandId, secondHandId, timeZone) {
        // const clock = document.getElementById(clockId);
        const hourHand = document.getElementById(hourHandId);
        const minuteHand = document.getElementById(minuteHandId);
        const secondHand = document.getElementById(secondHandId);

       const now = new Date(new Date().toLocaleString('en-US', { timeZone: timeZone }));
        const hours = now.getHours() % 12; // Convert to 12-hour format
        const minutes = now.getMinutes();
        const seconds = now.getSeconds();

        const hourRotation = (hours + minutes / 60) * 360 / 12;
        const minuteRotation = (minutes + seconds / 60) * 360 / 60;
        const secondRotation = seconds * 360 / 60;

        hourHand.style.transform = `translate(-50%, -100%) rotate(${hourRotation}deg)`;
        minuteHand.style.transform = `translate(-50%, -100%) rotate(${minuteRotation}deg)`;
        secondHand.style.transform = `translate(-50%, -100%) rotate(${secondRotation}deg)`;
    }
function getTimeZone(country) {
        switch (country) {
            case 'India':
                return 'Asia/Kolkata';
            case 'US':
                return 'America/New_York';
            case 'Germany':
                return 'Europe/Berlin';

            default:
                return '';
        }
    }
    // // Update all clocks every second
     setInterval(updateClocks, 1000);

    // Initial call to set the initial time
    updateClocks();
    var chart = am4core.create("chartdiv", am4maps.MapChart);
        chart.geodata = am4geodata_worldLow;

        // Set projection
        chart.projection = new am4maps.projections.Miller();

        // Create map polygon series for world map
        var worldSeries = chart.series.push(new am4maps.MapPolygonSeries());
        worldSeries.useGeodata = true;

        // Configure tooltips
        var polygonTemplate = worldSeries.mapPolygons.template;
        polygonTemplate.tooltipText = "{name}: {time}";

        // Add data for each country with its time zone
        worldSeries.data = [
            { "id": "IN", "name": "India", "timeZone": "Asia/Kolkata" },
            { "id": "US", "name": "United States", "timeZone": "America/New_York" },
            { "id": "DE", "name": "Germany", "timeZone": "Europe/Berlin" },
            { "id": "CA", "name": "Canada", "timeZone": "America/Toronto" },
            { "id": 'AU', "name": 'Australia', "timeZone": 'Australia/Sydney' },
            { "id": 'GB', "name": 'United Kingdom', "timeZone": 'Europe/London' },
            { "id": 'JP', "name": 'Japan', "timeZone": 'Asia/Tokyo' },
            { "id": 'BR', "name": 'Brazil', "timeZone": 'America/Sao_Paulo' },
            { "id": 'FR',"name": 'France', "timeZone": 'Europe/Paris' },
            { "id": 'CN', "name": 'China', "timeZone": 'Asia/Shanghai' },
            { "id": 'RU', "name": 'Russia', "timeZone": 'Europe/Moscow' },
            { "id": 'ZA',  "name": 'South Africa', "timeZone": 'Africa/Johannesburg' },
            { "id": 'AR', "name": 'Argentina', "timeZone": 'America/Argentina/Buenos_Aires' },
             { "id": 'MX', "name": 'Mexico', "timeZone": 'America/Mexico_City' },
            { "id": 'SA',  "name": 'Saudi Arabia', "timeZone": 'Asia/Riyadh' },
            { "id": 'NG', "name": 'Nigeria', "timeZone": 'Africa/Lagos' },
            { "id": 'IT', "name": 'Italy', "timeZone": 'Europe/Rome' },
            { "id": 'ES', "name": 'Spain', "timeZone": 'Europe/Madrid' },
            { "id": 'ID', "name": 'Indonesia', "timeZone": 'Asia/Jakarta' },
            { "id": 'TR', "name": 'Turkey', "timeZone": 'Europe/Istanbul' },
            { "id": 'IR', "name": 'Iran', "timeZone": 'Asia/Tehran' },
            { "id": 'EG', "name": 'Egypt', "timeZone": 'Africa/Cairo' },
            { "id": 'TH', "name": 'Thailand', "timeZone": 'Asia/Bangkok' },
            { "id": 'KR', "name": 'South Korea', "timeZone": 'Asia/Seoul' },
             { "id": 'PT', "name": 'Portugal', "timeZone": 'Europe/Lisbon' },
             { "id": 'GR', "name": 'Greece', "timeZone": 'Europe/Athens' },
            { "id": 'NL', "name": 'Netherlands', "timeZone": 'Europe/Amsterdam' },
            { "id": 'BE', "name": 'Belgium', "timeZone": 'Europe/Brussels' },
            { "id": 'SE', "name": 'Sweden', "timeZone": 'Europe/Stockholm' },
            { "id": 'NO', "name": 'Norway', "timeZone": 'Europe/Oslo' },
            { "id": 'DK', "name": 'Denmark', "timeZone": 'Europe/Copenhagen' },
            { "id": 'FI', "name": 'Finland', "timeZone": 'Europe/Helsinki' },
            { "id": 'AQ', "name": 'Antarctica', "timeZone": 'Pacific/Auckland' },
            // Add more countries as needed
        ];

        // Set up map polygon series to display time zone tooltips
        worldSeries.events.on("inited", function () {
            worldSeries.mapPolygons.each(function (mapPolygon) {
                var data = mapPolygon.dataItem.dataContext;
                mapPolygon.tooltipText = data.name + ": {time}";

                // Get current time in the country's time zone
                var time = getCurrentTime(data.timeZone);
                mapPolygon.dataItem.dataContext.time = time;

                // Update tooltip when the time changes
                setInterval(function () {
                    var currentTime = getCurrentTime(data.timeZone);
                    if (time !== currentTime) {
                        time = currentTime;
                        mapPolygon.dataItem.dataContext.time = time;
                        mapPolygon.invalidate();
                    }
                }, 1000);
                 mapPolygon.tooltipHTML = `<div style="color: white; background-color: darkred; padding: 10px; border-radius: 5px; font-size: 18px;">${data.name}: ${time}</div>`;

            });
        });


        // Function to get the current time in a specific time zone
        function getCurrentTime(timeZone) {
            const options = { timeZone: timeZone, timeStyle: 'medium', hour12: false };
            const formatter = new Intl.DateTimeFormat('en-US', options);
            return formatter.format(new Date());
        }

</script>

</body>
</html>
